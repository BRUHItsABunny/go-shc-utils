package decoder

import (
	"encoding/base64"
	"fmt"
	"strings"
	"testing"
)

const shc = "shc:/567629595326546034602925407728043360287028656767542228092862372537602870286471674522280928635923544359625226593933043343532521755242595941415973556204573764674133614143454212223762556143062174454208033225246057360110252933611232742435036903432333591206555760380629390436224168625053607056652171717724075442361058413163737733727204213655764372372924386105575673276373236822545874286810047143452964696457424145336743652564377167416130425545397733321030382526296933255866097238267709387457087664296656553627322373427465251177407475312322735634644107316422352909616869696963245064255664563935755524612220554475542272255331756000691053572927542103695338716265524106203072200529386325772121120677412228120323423463324510631134333027110341112758560703376937396476745855066161286154525704663338521104215424240407344107205007035944277537627139762170256767752835636673767400656050427231713973403805391023503408673244570458323371252007504577105803277638290836645520532324251263367112647073593944725645101128425425340642656667323358777763406138763434223374280456763467330656564164576374525568573603334352432141407767033926000011285821425904075932285323117211660467674460415406424520103300630374260311677442562665757626123721235608537234326742427164247238094175763923564256354103266621044257056612663664073932702434057359634105127460747207284437347560343271712972615204232530556106217311340721366971407064253342386473046157267340373041307736636643650328290427383831426034593803305832387631376450416912663872500005377300764529603770103040124523746837503972270006087531360022445073323574242020235050743220012338717610064241225825632230404205657728615269283970232206586957274121500733215350047303441138550604535972083536776403702875743630615373275412570467402167680534453125676458"

func TestToOriginalString(t *testing.T) {
	originalString := ToOriginalString(shc)
	fmt.Println(originalString)
	jwt := strings.Split(originalString, ".")

	headerBytes, err := base64.URLEncoding.DecodeString(EnsurePadding(jwt[0]))
	if err != nil {
		t.Error(err)
	}
	fmt.Println(string(headerBytes))
	fmt.Println(len(jwt))
	bodyBytes, err := DecodeData(jwt[1])
	fmt.Println(string(bodyBytes))
}
